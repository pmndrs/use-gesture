{"version":3,"sources":["../../src/utils/restarting-screen.ts"],"names":["html","join"],"mappings":";;;;;AAAA;AACA,MAAMA,IAAI,GAAIA,IAAD,IAAwCA,IAAI,CAACC,IAAL,CAAW,IAAX,CAArD;;eAEeD,IAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C","sourcesContent":["// noop fn to be used as a tagged template literal for code highlighting and prettier formatting\nconst html = (html: TemplateStringsArray): string => html.join(`\\n`)\n\nexport default html`\n  <html>\n    <head>\n      <title>Restarting...</title>\n      <style>\n        .wrapper {\n          width: 100vw;\n          height: 100vh;\n          position: absolute;\n          top: 0;\n          left: 0;\n          background: white;\n          display: -webkit-box;\n          display: -webkit-flex;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-flex-direction: column;\n          -ms-flex-direction: column;\n          flex-direction: column;\n          -webkit-align-items: center;\n          -webkit-box-align: center;\n          -ms-flex-align: center;\n          align-items: center;\n          -webkit-box-pack: center;\n          -webkit-justify-content: center;\n          -ms-flex-pack: center;\n          justify-content: center;\n          color: rebeccapurple;\n          font-family: \"Futura PT\", -apple-system, \"BlinkMacSystemFont\",\n            \"Segoe UI\", \"Roboto\", \"Helvetica Neue\", \"Arial\", \"Noto Sans\",\n            sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n            \"Noto Color Emoji\";\n          text-align: center;\n        }\n      </style>\n      <style>\n        .logo {\n          height: 64px;\n          width: auto;\n          box-shadow: 0 0 0 rgba(102, 51, 153, 0.4);\n          -webkit-animation: pulse 2s infinite;\n          animation: pulse 2s infinite;\n          border-radius: 50%;\n        }\n        @-webkit-keyframes pulse {\n          0% {\n            box-shadow: 0 0 0 0 rgba(102, 51, 153, 0.4);\n          }\n          70% {\n            box-shadow: 0 0 0 30px rgba(102, 51, 153, 0);\n          }\n          100% {\n            box-shadow: 0 0 0 0 rgba(102, 51, 153, 0);\n          }\n        }\n        @keyframes pulse {\n          0% {\n            box-shadow: 0 0 0 0 rgba(102, 51, 153, 0.4);\n          }\n          70% {\n            box-shadow: 0 0 0 30px rgba(102, 51, 153, 0);\n          }\n          100% {\n            box-shadow: 0 0 0 0 rgba(102, 51, 153, 0);\n          }\n        }\n      </style>\n    </head>\n    <body data-cy=\"restarting-screen\">\n      <div class=\"wrapper\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 28 28\"\n          focusable=\"false\"\n          class=\"logo\"\n        >\n          <title>Gatsby</title>\n          <circle cx=\"14\" cy=\"14\" r=\"14\" fill=\"#639\"></circle>\n          <path\n            fill=\"#fff\"\n            d=\"M6.2 21.8C4.1 19.7 3 16.9 3 14.2L13.9 25c-2.8-.1-5.6-1.1-7.7-3.2zm10.2 2.9L3.3 11.6C4.4 6.7 8.8 3 14 3c3.7 0 6.9 1.8 8.9 4.5l-1.5 1.3C19.7 6.5 17 5 14 5c-3.9 0-7.2 2.5-8.5 6L17 22.5c2.9-1 5.1-3.5 5.8-6.5H18v-2h7c0 5.2-3.7 9.6-8.6 10.7z\"\n          ></path>\n        </svg>\n        <h1>Gatsby is restarting the develop server...</h1>\n        <script src=\"/socket.io/socket.io.js\"></script>\n        <script>\n          fetch(\"/___services\")\n            .then(res => res.json())\n            .then(services => {\n              const socket = io(\n                \"http://\" +\n                  window.location.hostname +\n                  \":\" +\n                  services.developstatusserver.port\n              )\n              socket.on(\"structured-log\", msg => {\n                if (msg.type !== \"LOG_ACTION\") return\n\n                if (\n                  msg.action.type === \"SET_STATUS\" &&\n                  msg.action.payload === \"SUCCESS\"\n                ) {\n                  window.location.reload()\n                }\n\n                if (\n                  msg.action.type === \"DEVELOP\" &&\n                  msg.action.payload === \"RESTART_REQUIRED\"\n                ) {\n                  socket.emit(\"develop:restart\")\n                }\n              })\n\n              socket.on(\"disconnect\", () => {\n                console.warn(\n                  \"[socket.io] Disconnected. Unable to perform health-check.\"\n                )\n                socket.close()\n              })\n            })\n        </script>\n      </div>\n    </body>\n  </html>\n`\n"],"file":"restarting-screen.js"}